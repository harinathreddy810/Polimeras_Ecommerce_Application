<!--<!DOCTYPE html>-->
<!--<html lang="en">-->
<!--<head>-->
<!--    <meta charset="utf-8" />-->
<!--    <meta name="viewport" content="width=device-width,initial-scale=1">-->
<!--    <title>Polimeraas – The Farmer's House</title>-->
<!--    <link rel="shortcut icon" href="http://localhost:8080/uploads/leaf-logo-final.png"  type="image/x-icon">-->


<!--    &lt;!&ndash; Bootstrap 5 + Material-Design Icons &ndash;&gt;-->
<!--    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">-->
<!--    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css" rel="stylesheet">-->

<!--    <style>-->
<!--        @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');-->
<!--        :root{-->
<!--            &#45;&#45;poly-yellow:#ffb600;-->
<!--            &#45;&#45;poly-dark:#000;-->
<!--            &#45;&#45;poly-gray:#f8f9fa;-->
<!--        }-->
<!--        body{-->
<!--            font-family:"Poppins",sans-serif;-->
<!--            background:var(&#45;&#45;poly-gray);-->
<!--        }-->
<!--        .navbar{-->
<!--            background:var(&#45;&#45;poly-dark);-->
<!--        }-->
<!--        .navbar .nav-link{-->
<!--            color:#fff!important;-->
<!--            font-weight:500-->
<!--        }-->
<!--        .navbar .nav-link:hover{-->
<!--            color:var(&#45;&#45;poly-yellow)!important-->
<!--        }-->
<!--        .btn-yellow{background:var(&#45;&#45;poly-yellow);color:#000;border:0}.btn-yellow:hover{filter:brightness(1.05)}-->
<!--        .navbar{-->
<!--            position: sticky;-->
<!--            top: 0;-->
<!--            z-index: 30;-->
<!--        }-->
<!--        /* product cards */-->
<!--        .prod-card{-->
<!--            min-width:180px;-->
<!--            border: 1px solid rgb(218, 216, 216);-->
<!--            padding: 4px 5px;-->
<!--            border-radius: 10px;-->
<!--            flex-shrink: 0;-->
<!--        }-->
<!--        .prod-img{height:140px;object-fit:cover;border-radius:.5rem}-->

<!--        /* horizontal scroll rows */-->
<!--        .snap-x::-webkit-scrollbar{display:none}-->
<!--        .snap-x{-->
<!--            scroll-snap-type:x mandatory;-->
<!--            overflow-x:auto;-->
<!--            gap:1rem;-->
<!--            padding-bottom:.5rem;-->
<!--            display: flex;-->
<!--            flex-wrap: nowrap;-->
<!--            scroll-behavior: smooth;-->
<!--        }-->
<!--        .snap-x > *{-->
<!--            scroll-snap-align:start;-->
<!--            flex: 0 0 auto;-->
<!--        }-->
<!--        #text{-->
<!--            text-decoration: none;-->
<!--        }-->

<!--        /* scroll buttons */-->
<!--        .scroll-container {-->
<!--            position: relative;-->
<!--        }-->
<!--        #containerSlider{-->
<!--            /*margin-top: 20px;*/-->
<!--            display: flex;-->
<!--            justify-content: center;-->
<!--            align-items: center;-->
<!--        }-->
<!--        .scroll-btn {-->
<!--            position: absolute;-->
<!--            top: 50%;-->
<!--            transform: translateY(-50%);-->
<!--            width: 40px;-->
<!--            height: 40px;-->
<!--            border-radius: 50%;-->
<!--            background: white;-->
<!--            box-shadow: 0 2px 5px rgba(0,0,0,0.2);-->
<!--            border: none;-->
<!--            z-index: 1;-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            justify-content: center;-->
<!--        }-->
<!--        .text-reset{-->
<!--            text-decoration: none;-->
<!--        }-->
<!--        .scroll-btn.left {-->
<!--            left: -20px;-->
<!--        }-->
<!--        .scroll-btn.right {-->
<!--            right: -20px;-->
<!--        }-->
<!--        .scroll-btn:disabled {-->
<!--            opacity: 0.5;-->
<!--            /*cursor: not-allowed;*/-->
<!--        }-->
<!--        #groceryCard{-->
<!--            display: flex;-->
<!--            justify-content: center;-->
<!--            align-items: center;-->
<!--            background-color: rgb(217, 221, 222);-->
<!--            padding-right: 10px;-->
<!--            border-radius: 30px;-->


<!--        }-->
<!--        #groceryCard:hover{-->
<!--            box-shadow: gray 0 0 15px;-->
<!--            transition-duration: .2s;-->
<!--        }-->
<!--        span{-->
<!--            font-weight: bolder;-->
<!--        }-->
<!--        #groceryImg{-->
<!--            display: flex;-->
<!--            align-items: center;-->
<!--            justify-content: center;-->
<!--            box-sizing: border-box;-->
<!--            width: 50px;-->
<!--            padding: 0 10px;-->
<!--            /*border: 2px solid blue;*/-->
<!--            border-radius: 25px;-->
<!--            margin-right: 5px;-->
<!--            background-color: #b1d4f1;-->

<!--        }-->
<!--        #groceryName{-->
<!--          text-decoration: none;-->
<!--          color: black;-->
<!--        }-->
<!--        #categoryCards{-->
<!--            font-family: "Poppins", sans-serif;-->
<!--            display: flex;-->
<!--            font-weight: bolder;-->
<!--            gap: 20px;-->
<!--            /*padding: 0 90px;*/-->
<!--            margin-top: 30px;-->
<!--            text-transform: capitalize;-->
<!--        }-->
<!--        #footer{-->
<!--            background-color: black;-->
<!--            height: 400px;-->
<!--        }-->

<!--        /* Ensure equal height behavior */-->
<!--        .prod-card {-->
<!--            display: flex;-->
<!--            flex-direction: column;-->
<!--            height: 100%;-->
<!--        }-->

<!--        /* Image container styling */-->
<!--        .object-fit-cover {-->
<!--            object-fit: cover;-->
<!--        }-->

<!--        /* Text truncation for multi-line */-->
<!--        .line-clamp-2 {-->
<!--            display: -webkit-box;-->
<!--            -webkit-line-clamp: 2;-->
<!--            -webkit-box-orient: vertical;-->
<!--            overflow: hidden;-->
<!--        }-->

<!--        /* Hover effects */-->
<!--        .prod-card:hover .prod-img {-->
<!--            transform: scale(1.05);-->
<!--        }-->
<!--        .prod-card {-->
<!--            transition: all 0.3s ease;-->
<!--        }-->
<!--        .prod-card:hover {-->
<!--            transform: translateY(-5px);-->
<!--            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;-->
<!--        }-->
<!--    </style>-->
<!--</head>-->
<!--<body>-->

<!--&lt;!&ndash; ───── NAVBAR ────────────────────────────────────────────────────────── &ndash;&gt;-->
<!--<nav class="navbar navbar-expand-lg navbar-dark py-2">-->
<!--    <div class="container">-->
<!--        <a class="navbar-brand" href="index.html">-->
<!--&lt;!&ndash;            <img src="https://polimeraas.in/img/logo.png" width="170" height="45" alt="Polimeraas">&ndash;&gt;-->
<!--            <img src="http://localhost:8080/uploads/Polimeras-logo-white.png" width="140" height="50" alt="Polimeraas">-->
<!--        </a>-->
<!--        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">-->
<!--            <span class="navbar-toggler-icon"></span>-->
<!--        </button>-->

<!--        <div id="mainNav" class="collapse navbar-collapse">-->
<!--            &lt;!&ndash; search &ndash;&gt;-->
<!--            <form id="searchForm" class="d-flex mx-lg-auto my-3 my-lg-0" style="max-width:420px;">-->
<!--                <input id="searchInput" class="form-control rounded-0 rounded-start" placeholder="Search for products…">-->
<!--                <button class="btn btn-yellow rounded-0 rounded-end">SEARCH</button>-->
<!--            </form>-->

<!--            <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-3">-->
<!--                <li class="nav-item"><a class="nav-link" href="/profile.html"><i class="mdi mdi-account"></i>&nbsp;Profile</a></li>-->
<!--                <li class="nav-item position-relative">-->
<!--                    <a class="nav-link" href="/user-dashboard.html"><i class="mdi mdi-cart-outline fs-4"></i></a>-->
<!--                    <span id="cartBadge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger d-none">0</span>-->
<!--                </li>-->
<!--            </ul>-->
<!--        </div>-->
<!--    </div>-->
<!--</nav>-->

<!--&lt;!&ndash; ───── MAIN ──────────────────────────────────────────────────────────── &ndash;&gt;-->
<!--<main class="container py-4">-->
<!--    &lt;!&ndash;Slider&ndash;&gt;-->
<!--    <div id="containerSlider">-->
<!--        <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">-->
<!--            <div class="carousel-indicators">-->
<!--                <button type="button" data-bs-target="#carouselExampleControls" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>-->
<!--                <button type="button" data-bs-target="#carouselExampleControls" data-bs-slide-to="1" aria-label="Slide 2"></button>-->
<!--                &lt;!&ndash;        <button type="button" data-bs-target="#carouselExampleControls" data-bs-slide-to="2" aria-label="Slide 3"></button>&ndash;&gt;-->
<!--                &lt;!&ndash;        <button type="button" data-bs-target="#carouselExampleControls" data-bs-slide-to="3" aria-label="Slide 3"></button>&ndash;&gt;-->
<!--            </div>-->
<!--            <div class="carousel-inner">-->
<!--                <div class="carousel-item active">-->
<!--                    <img src="http://localhost:8080/uploads/slide1.jpg" height="150">-->
<!--                </div>-->
<!--                <div class="carousel-item">-->
<!--                    <img src="http://localhost:8080/uploads/slide2.jpg" height="150">-->
<!--                </div>-->
<!--            </div>-->
<!--            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">-->
<!--                <span class="carousel-control-prev-icon" aria-hidden="true"></span>-->
<!--                <span class="visually-hidden">Previous</span>-->
<!--            </button>-->
<!--            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">-->
<!--                <span class="carousel-control-next-icon" aria-hidden="true"></span>-->
<!--                <span class="visually-hidden">Next</span>-->
<!--            </button>-->
<!--        </div>-->

<!--    </div>-->


<!--    <div id="categoryCards">-->
<!--        <div id="groceryCard">-->
<!--            <div id="groceryImg"><img src="http://localhost:8080/uploads/vegetables.png" width="45"></div>-->
<!--            <a id="groceryName" href="http://localhost:8080/category.html?category=VEGETABLES">vegetables</a>-->
<!--        </div>-->
<!--        <div id="groceryCard">-->
<!--            <div id="groceryImg"><img src="http://localhost:8080/uploads/fruits.png" width="45"></div>-->
<!--            <a id="groceryName" href="http://localhost:8080/category.html?category=FRUITS">Fruits</a>-->
<!--        </div>-->
<!--        <div id="groceryCard">-->
<!--            <div id="groceryImg"><img src="http://localhost:8080/uploads/grocery1.png" width="45"></div>-->
<!--            <a id="groceryName" href="http://localhost:8080/category.html?category=GROCERY">Grocery</a>-->
<!--        </div>-->
<!--    </div>-->

<!--</main>-->

<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>-->

<!--&lt;!&ndash; cart helpers &ndash;&gt;-->
<!--<script type="module" src="/js/cart.js"></script>-->

<!--&lt;!&ndash; page logic &ndash;&gt;-->

<!--<div id="footer">-->

<!--</div>-->
<!--<script type="module">-->
<!--    import { addToCart } from '/js/cart.js';-->

<!--    /* &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; helper that builds one product card &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; */-->
<!--    function buildCard(p){-->
<!--        const money   = v => `₹${v}`;-->
<!--        const mrp     = p.mrp || p.price;-->
<!--        // const offPct  = Math.round((1 - p.price / mrp) * 100);-->
<!--        // const rating  = p.rating ? `<span class="badge text-bg-success">${p.rating.toFixed(1)}</span>` : '';-->
<!--        // const percent = offPct > 0 ? `<small class="text-success fw-semibold">${offPct}% Off</small>` : '';-->
<!--        const buttonText = (p.stockQuantity === 0) ? 'Out of Stock' : 'ADD';-->
<!--        return `-->

<!--      <div class="card prod-card h-100 border-0 shadow-sm">-->
<!--  <a href="product.html?id=${p.id}" class="text-reset text-decoration-none d-flex flex-column h-100">-->
<!--    &lt;!&ndash; Product Image Container (fixed height) &ndash;&gt;-->
<!--    <div class="position-relative overflow-hidden" style="height: 200px;">-->
<!--      <img class="w-100 h-100 object-fit-cover prod-img"-->
<!--           src="/api/products/${p.id}/image"-->
<!--           alt="${p.name}"-->
<!--           style="transition: transform 0.3s ease;">-->
<!--      &lt;!&ndash; Discount Badge &ndash;&gt;-->
<!--      ${mrp > p.price ? `-->
<!--        <span class="position-absolute top-0 end-0 bg-danger text-white px-2 py-1 small">-->
<!--          ${Math.round((mrp - p.price)/mrp * 100)}% OFF-->
<!--        </span>-->
<!--      ` : ''}-->
<!--    </div>-->

<!--    &lt;!&ndash; Product Details (flex-grow for equal height) &ndash;&gt;-->
<!--    <div class="card-body p-3 d-flex flex-column" style="flex-grow: 1;">-->
<!--      &lt;!&ndash; Product Name &ndash;&gt;-->
<!--      <h5 class="card-title fw-semibold mb-1 text-truncate">${p.name}</h5>-->

<!--      &lt;!&ndash; Product Description (fixed height) &ndash;&gt;-->
<!--      <p class="card-text small text-muted mb-2 line-clamp-2" style="height: 40px;">-->
<!--        ${p.description || ''}-->
<!--      </p>-->

<!--      &lt;!&ndash; Quantity Type &ndash;&gt;-->
<!--      <div class="text-success small mb-2">${p.quantityType || ''}</div>-->

<!--      &lt;!&ndash; Spacer to push prices down &ndash;&gt;-->
<!--      <div class="mt-auto">-->
<!--        &lt;!&ndash; Price Section &ndash;&gt;-->
<!--        <div class="d-flex align-items-baseline gap-2 mb-2">-->
<!--          &lt;!&ndash; Current Price &ndash;&gt;-->
<!--          <span class="fs-5 fw-bold text-dark">${money(p.price)}</span>-->

<!--          &lt;!&ndash; Original Price (if discounted) &ndash;&gt;-->
<!--          ${mrp > p.price ? `-->
<!--            <span class="text-decoration-line-through text-muted small">-->
<!--              ${money(mrp)}-->
<!--            </span>-->
<!--          ` : ''}-->
<!--        </div>-->
<!--      </div>-->
<!--    </div>-->

<!--    &lt;!&ndash; Add to Cart Button (fixed at bottom) &ndash;&gt;-->
<!--    <div class="card-footer bg-transparent border-0 pt-0 pb-3 px-3">-->
<!--      <button class="btn btn-danger w-100 add-btn py-2"-->
<!--              data-id="${p.id}">-->
<!--        ${buttonText}-->
<!--      </button>-->
<!--    </div>-->
<!--  </a>-->
<!--</div>-->
<!--`;-->
<!--    }-->

<!--    /* &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; build a section for each enum category &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; */-->
<!--    const categories = ['VEGETABLES','FRUITS','GROCERY'];-->
<!--    const main       = document.querySelector('main');-->

<!--    categories.forEach(cat => {-->
<!--        /* header */-->
<!--        main.insertAdjacentHTML('beforeend',`-->
<!--      <div class="d-flex justify-content-between align-items-center mb-3 ${main.children.length? 'mt-4':''}">-->
<!--        <h4 class="fw-bold m-0">${cat.charAt(0)+cat.slice(1).toLowerCase()}</h4>-->
<!--        <a class="btn btn-link text-decoration-none fw-semibold"-->
<!--           href="category.html?category=${cat}">See All ›</a>-->
<!--      </div>-->
<!--      <div class="scroll-container position-relative">-->
<!--        <button class="scroll-btn left" aria-label="Scroll left">-->
<!--          <i class="mdi mdi-chevron-left"></i>-->
<!--        </button>-->
<!--        <div id="row-${cat}" class="d-flex snap-x"></div>-->
<!--        <button class="scroll-btn right" aria-label="Scroll right">-->
<!--          <i class="mdi mdi-chevron-right"></i>-->
<!--        </button>-->
<!--      </div>`);-->

<!--        /* dataset */-->
<!--        fetch('/api/products/products/'+cat)-->
<!--            .then(r=>{ if(!r.ok)throw new Error(`HTTP ${r.status}`); return r.json(); })-->
<!--            .then(list => {-->
<!--                const row = document.getElementById(`row-${cat}`);-->
<!--                const container = row.parentElement;-->
<!--                const leftBtn = container.querySelector('.scroll-btn.left');-->
<!--                const rightBtn = container.querySelector('.scroll-btn.right');-->

<!--                list.slice(0,100).forEach(p=> row.insertAdjacentHTML('beforeend',buildCard(p)));-->

<!--                // Update scroll buttons-->
<!--                const updateButtons = () => {-->
<!--                    leftBtn.disabled = row.scrollLeft <= 0;-->
<!--                    rightBtn.disabled = row.scrollLeft >= row.scrollWidth - row.clientWidth;-->
<!--                };-->

<!--                // Scroll event listener-->
<!--                row.addEventListener('scroll', updateButtons);-->

<!--                // Button click handlers-->
<!--                leftBtn.addEventListener('click', () => {-->
<!--                    row.scrollBy({left: -200, behavior: 'smooth'});-->
<!--                });-->

<!--                rightBtn.addEventListener('click', () => {-->
<!--                    row.scrollBy({left: 200, behavior: 'smooth'});-->
<!--                });-->

<!--                // Initial button state-->
<!--                updateButtons();-->
<!--            })-->
<!--            .catch(err=>console.error(`Failed to load ${cat}:`,err));-->
<!--    });-->

<!--    /* search redirect */-->
<!--    document.getElementById('searchForm').addEventListener('submit', e=>{-->
<!--        e.preventDefault();-->
<!--        const q = document.getElementById('searchInput').value.trim();-->
<!--        if(q) location.href = `category.html?search=${encodeURIComponent(q)}`;-->
<!--    });-->

<!--    /* delegate add-to-cart clicks */-->
<!--    document.addEventListener('click', e=>{-->
<!--        if(e.target.matches('.add-btn')) addToCart(e.target.dataset.id);-->
<!--    });-->
<!--</script>-->
<!--</body>-->
<!--</html>-->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Polimeraas – The Farmer's House</title>
    <link rel="shortcut icon" href="http://localhost:8080/uploads/leaf-logo-final.png"  type="image/x-icon">

    <!-- Bootstrap 5 + Material-Design Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@7.4.47/css/materialdesignicons.min.css" rel="stylesheet">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');
        :root{
            --poly-yellow:#ffb600;
            --poly-dark:#000;
            --poly-gray:#f8f9fa;
        }
        body{
            font-family:"Poppins",sans-serif;
            background:var(--poly-gray);
        }
        .navbar{
            background:var(--poly-dark);
        }
        .navbar .nav-link{
            color:#fff!important;
            font-weight:500
        }
        .navbar .nav-link:hover{
            color:var(--poly-yellow)!important
        }
        .btn-yellow{background:var(--poly-yellow);color:#000;border:0}
        .btn-yellow:hover{background:var(--poly-yellow)}
        .navbar{
            position: sticky;
            top: 0;
            z-index: 30;
        }
        /* product cards */
        .prod-card{
            min-width:180px;
            border: 1px solid rgb(218, 216, 216);
            /*padding: 4px 5px;*/
            border-radius: 10px;
            flex-shrink: 0;
        }
        .prod-img{height:140px;object-fit:cover;border-radius:.5rem}

        /* horizontal scroll rows */
        .snap-x::-webkit-scrollbar{display:none}
        .snap-x{
            scroll-snap-type:x mandatory;
            overflow-x:auto;
            gap:1rem;
            padding-bottom:.5rem;
            display: flex;
            flex-wrap: nowrap;
            scroll-behavior: smooth;
        }
        .snap-x > *{
            scroll-snap-align:start;
            flex: 0 0 auto;
        }
        #text{
            text-decoration: none;
        }

        /* scroll buttons */
        .scroll-container {
            position: relative;
        }
        #containerSlider{
            /*margin-top: 20px;*/
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .scroll-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            border: none;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .text-reset{
            text-decoration: none;
        }
        .scroll-btn.left {
            left: -20px;
        }
        .scroll-btn.right {
            right: -20px;
        }
        .scroll-btn:disabled {
            opacity: 0.5;
            /*cursor: not-allowed;*/
        }
        #groceryCard{
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgb(217, 221, 222);
            padding-right: 10px;
            border-radius: 30px;
        }
        #groceryCard:hover{
            box-shadow: gray 0 0 15px;
            transition-duration: .2s;
        }
        span{
            font-weight: bolder;
        }
        #groceryImg{
            display: flex;
            align-items: center;
            justify-content: center;
            box-sizing: border-box;
            width: 50px;
            padding: 0 10px;
            /*border: 2px solid blue;*/
            border-radius: 25px;
            margin-right: 5px;
            background-color: #b1d4f1;
        }
        #vegetableImg{
            display: flex;
            align-items: center;
            justify-content: center;
            box-sizing: border-box;
            width: 50px;
            padding: 0 10px;
            /*border: 2px solid blue;*/
            border-radius: 25px;
            margin-right: 5px;
            background-color: #c6ebb9;
            /*box-shadow: 0 0 0 4px black;*/
        }
        #fruitsImg{
            display: flex;
            align-items: center;
            justify-content: center;
            box-sizing: border-box;
            width: 50px;
            padding: 0 10px;
            /*border: 2px solid blue;*/
            border-radius: 25px;
            margin-right: 5px;
            background-color: #ffd0c4;
        }
        #groceryName{
            text-decoration: none;
            color: black;
        }
        #categoryCards{
            font-family: "Poppins", sans-serif;
            display: flex;
            font-weight: bolder;
            gap: 20px;
            /*padding: 0 90px;*/
            margin-top: 30px;
            text-transform: capitalize;
        }
        #footer{
            background-color: black;
            height: 400px;
        }

        /* Ensure equal height behavior */
        .prod-card {
            display: flex;
            flex-direction: column;
            height: 100%;
            width: 220px; /* Fixed width for consistent sizing */
        }

        /* Image container styling */
        .object-fit-cover {
            object-fit: cover;
        }

        /* Text truncation for multi-line */
        .line-clamp-2 {
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            height: 40px; /* Fixed height for description */
        }

        /* Hover effects */
        .prod-card:hover .prod-img {
            transform: scale(1.05);
        }
        .prod-card {
            transition: all 0.3s ease;
        }
        .prod-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15) !important;
        }

        /* Fixed image container height */
        .fixed-img-container {
            height: 160px;
            overflow: hidden;
            position: relative;
        }

        /* Price styling */
        .current-price {
            font-size: 1.1rem;
            font-weight: bold;
        }

        .original-price {
            font-size: 0.9rem;
        }

        /* Button styling */
        .add-to-cart-btn {
            width: 100%;
            padding: 8px 0;
            font-weight: 500;
        }

        /* Card body flex layout */
        .card-body-flex {
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        /* Card footer */
        .card-footer-custom {
            background: transparent;
            border-top: none;
            padding-top: 0;
        }


        .add-to-cart-toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #28a745;
            color: white;
            padding: 12px 24px;
            border-radius: 4px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            z-index: 1000;
            display: none;
            animation: fadeInOut 2.5s ease-in-out;
        }

        @keyframes fadeInOut {
            0% { opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { opacity: 0; }
        }

        /* Footer */
        footer {
            background: #fff;
            color: #6c757d;
            font-size: 0.9rem;
            border-top: 1px solid rgba(0,0,0,0.05);
        }

        footer h6 {
            color: #000;
            font-weight: 600;
            margin-bottom: 1.25rem;
            position: relative;
            padding-bottom: 0.5rem;
        }

        footer h6::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 40px;
            height: 2px;
            background: var(--poly-yellow);
        }

        footer ul li {
            margin-bottom: 0.5rem;
        }

        footer ul li a {
            color: #6c757d;
            transition: all 0.3s ease;
        }

        footer ul li a:hover {
            color: var(--poly-yellow);
            padding-left: 5px;
        }

        /* Utility Classes */
        .section-title {
            letter-spacing: 0.03em;
            font-weight: 700;
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: '';
            position: absolute;
            left: 0;
            bottom: -5px;
            width: 50%;
            height: 3px;
            background: var(--poly-yellow);
        }
    </style>
</head>
<body>
<div id="addToCartToast" class="add-to-cart-toast">
    <i class="mdi mdi-check-circle"></i> Item added to cart!
</div>
<!-- ───── NAVBAR ────────────────────────────────────────────────────────── -->
<nav class="navbar navbar-expand-lg navbar-dark py-2">
    <div class="container">
        <a class="navbar-brand" href="index.html">
            <img src="http://localhost:8080/uploads/Polimeras-logo-white.png" width="140" height="50" alt="Polimeraas">
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div id="mainNav" class="collapse navbar-collapse">
            <!-- search -->
            <form id="searchForm" class="d-flex mx-lg-auto my-3 my-lg-0" style="max-width:420px;">
                <input id="searchInput" class="form-control rounded-0 rounded-start" placeholder="Search for products…">
                <button class="btn btn-yellow rounded-0 rounded-end">SEARCH</button>
            </form>

            <ul class="navbar-nav ms-auto align-items-lg-center gap-lg-3">
                <li class="nav-item"><a class="nav-link" href="/profile.html"><i class="mdi mdi-account"></i>&nbsp;Profile</a></li>
                <li class="nav-item position-relative">
                    <a class="nav-link" href="/user-dashboard.html"><i class="mdi mdi-cart-outline fs-4"></i></a>
                    <span id="cartBadge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger d-none">0</span>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- ───── MAIN ──────────────────────────────────────────────────────────── -->
<main class="container py-4">
    <!--Slider-->
    <div id="containerSlider">
        <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleControls" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleControls" data-bs-slide-to="1" aria-label="Slide 2"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src="http://localhost:8080/uploads/slide1.jpg" height="150">
                </div>
                <div class="carousel-item">
                    <img src="http://localhost:8080/uploads/slide2.jpg" height="150">
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>

    <div id="categoryCards">
        <div id="groceryCard">
            <div id="vegetableImg"><img src="http://localhost:8080/uploads/vegetables.png" width="45"></div>
            <a id="groceryName" href="http://localhost:8080/category.html?category=VEGETABLES">vegetables</a>
        </div>
        <div id="groceryCard">
            <div id="fruitsImg"><img src="http://localhost:8080/uploads/fruits.png" width="45"></div>
            <a id="groceryName" href="http://localhost:8080/category.html?category=FRUITS">Fruits</a>
        </div>
        <div id="groceryCard">
            <div id="groceryImg"><img src="http://localhost:8080/uploads/grocery1.png" width="45"></div>
            <a id="groceryName" href="http://localhost:8080/category.html?category=GROCERY">Grocery</a>
        </div>
    </div>

</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- cart helpers -->
<script type="module" src="/js/cart.js"></script>

<!-- page logic -->

<!--<div id="footer">-->

<!--</div>-->
<footer class="pt-5">
    <div class="container">
        <div class="row gy-4">
            <!-- logo + contact -->
            <div class="col-md-4">
                <img src="http://localhost:8080/uploads/Polimeras-logo-black.png" width="140" height="50" alt="Polimeraas">
                <p class="mb-2"><i class="mdi mdi-phone-outline"></i> +91 040 42203120</p>
                <p class="mb-2"><i class="mdi mdi-cellphone"></i> +91 9948475701</p>
                <p class="mb-2"><i class="mdi mdi-email-outline"></i> support@manapolimeras.com</p>
                <p><i class="mdi mdi-web"></i> www.manapolimeras.com</p>
            </div>

            <!-- top cities -->
            <div class="col-6 col-md-2">
                <h6>TOP CITIES</h6>
                <ul class="list-unstyled">
                    <li>Hyderabad</li>
                    <li>Bengaluru</li>
                    <li>Pune</li>
                    <li>Mumbai</li>
                    <li>Delhi</li>
                </ul>
            </div>

            <!-- categories -->
            <div class="col-6 col-md-2">
                <h6>CATEGORIES</h6>
                <ul class="list-unstyled">
                    <li>Vegetables</li>
                    <li>Fruits</li>
                    <li>Herbs & Seasonings</li>
                    <li>Dairy & Bakery</li>
                    <li>Staples & Dry Fruits</li>
                </ul>
            </div>

            <!-- about us -->
            <div class="col-6 col-md-2">
                <h6>ABOUT US</h6>
                <ul class="list-unstyled">
<!--                    <li><Company Info</li>-->
                    <li>Careers</li>
                    <li>>Store Location</li>
                    <li>Privacy Policy</li>
                    <li>Terms & Conditions</li>
                </ul>
            </div>

            <!-- app links -->
            <div class="col-6 col-md-2">
                <h6>DOWNLOAD APP</h6>
                <a href="#"><img src="https://polimeraas.in/img/google.png" width="140" class="mb-2 img-fluid" alt="Google Play"></a><br>
                <a href="#"><img src="https://polimeraas.in/img/apple.png" width="140" class="img-fluid" alt="Apple App Store"></a>
            </div>
        </div>

        <hr class="my-4">
        <div class="d-flex flex-column flex-md-row justify-content-between align-items-center pb-4">
            <p class="mb-2 mb-md-0">&copy; <span id="year"></span>2024 Mana Polimeraas. All rights reserved.</p>
            <img src="https://polimeraas.in/img/payment_methods.png" height="32" alt="Payment methods" class="img-fluid">
        </div>
    </div>
</footer>

<!--<script type="module">-->
<!--    import { addToCart } from '/js/cart.js';-->

<!--    /* &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; helper that builds one product card &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; */-->
<!--    function buildCard(p){-->
<!--        const money   = v => `₹${v}`;-->
<!--        const mrp     = p.mrp || p.price;-->
<!--        const buttonText = (p.stockQuantity === 0) ? 'Out of Stock' : 'ADD';-->

<!--        return `-->
<!--        <div class="card prod-card h-100 border-0 shadow-sm">-->
<!--            <div class="product-link-wrapper">-->
<!--                &lt;!&ndash; Product Image Container &ndash;&gt;-->
<!--                <a href="product.html?id=${p.id}" class="text-reset text-decoration-none">-->
<!--                    <div class="fixed-img-container">-->
<!--                        <img class="w-100 h-100 object-fit-cover prod-img"-->
<!--                             src="/api/products/${p.id}/image"-->
<!--                             alt="${p.name}"-->
<!--                             style="transition: transform 0.3s ease;">-->
<!--                        ${mrp > p.price ? `-->
<!--                        <span class="position-absolute top-0 end-0 bg-danger text-white px-2 py-1 small">-->
<!--                            ${Math.round((mrp - p.price)/mrp * 100)}% OFF-->
<!--                        </span>-->
<!--                        ` : ''}-->
<!--                    </div>-->

<!--                    &lt;!&ndash; Product Details &ndash;&gt;-->
<!--                    <div class="card-body p-3 card-body-flex">-->
<!--                        &lt;!&ndash; Product Name &ndash;&gt;-->
<!--                        <h5 class="card-title fw-semibold mb-1 text-truncate">${p.name}</h5>-->

<!--                        &lt;!&ndash; Product Description &ndash;&gt;-->
<!--                        <p class="card-text small text-muted mb-2 line-clamp-2">-->
<!--                            ${p.description || ''}-->
<!--                        </p>-->

<!--                        &lt;!&ndash; Quantity Type &ndash;&gt;-->
<!--                        <div class="text-success small mb-2">${p.quantityType || ''}</div>-->

<!--                        &lt;!&ndash; Spacer to push prices down &ndash;&gt;-->
<!--                        <div class="mt-auto">-->
<!--                            &lt;!&ndash; Price Section &ndash;&gt;-->
<!--                            <div class="d-flex align-items-baseline gap-2 mb-2">-->
<!--                                &lt;!&ndash; Current Price &ndash;&gt;-->
<!--                                <span class="current-price text-dark">${money(p.price)}</span>-->

<!--                                &lt;!&ndash; Original Price (if discounted) &ndash;&gt;-->
<!--                                ${mrp > p.price ? `-->
<!--                                <span class="original-price text-decoration-line-through text-muted">-->
<!--                                    ${money(mrp)}-->
<!--                                </span>-->
<!--                                ` : ''}-->
<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                </a>-->

<!--                &lt;!&ndash; Add to Cart Button &ndash;&gt;-->
<!--                <div class="card-footer card-footer-custom pb-3 px-3">-->
<!--                    <button class="btn btn-danger add-to-cart-btn add-btn"-->
<!--                            data-id="${p.id}"-->
<!--                            ${p.stockQuantity === 0 ? 'disabled' : ''}>-->
<!--                        ${buttonText}-->
<!--                    </button>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>`;-->
<!--    }-->

<!--    /* &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; build a section for each enum category &#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45;&#45; */-->
<!--    const categories = ['VEGETABLES','FRUITS','GROCERY'];-->
<!--    const main       = document.querySelector('main');-->

<!--    categories.forEach(cat => {-->
<!--        /* header */-->
<!--        main.insertAdjacentHTML('beforeend',`-->
<!--        <div class="d-flex justify-content-between align-items-center mb-3 ${main.children.length? 'mt-4':''}">-->
<!--            <h4 class="fw-bold m-0">${cat.charAt(0)+cat.slice(1).toLowerCase()}</h4>-->
<!--            <a class="btn btn-link text-decoration-none fw-semibold"-->
<!--               href="category.html?category=${cat}">See All ›</a>-->
<!--        </div>-->
<!--        <div class="scroll-container position-relative">-->
<!--            <button class="scroll-btn left" aria-label="Scroll left">-->
<!--                <i class="mdi mdi-chevron-left"></i>-->
<!--            </button>-->
<!--            <div id="row-${cat}" class="d-flex snap-x"></div>-->
<!--            <button class="scroll-btn right" aria-label="Scroll right">-->
<!--                <i class="mdi mdi-chevron-right"></i>-->
<!--            </button>-->
<!--        </div>`);-->

<!--        /* dataset */-->
<!--        fetch('/api/products/products/'+cat)-->
<!--            .then(r=>{ if(!r.ok)throw new Error(`HTTP ${r.status}`); return r.json(); })-->
<!--            .then(list => {-->
<!--                const row = document.getElementById(`row-${cat}`);-->
<!--                const container = row.parentElement;-->
<!--                const leftBtn = container.querySelector('.scroll-btn.left');-->
<!--                const rightBtn = container.querySelector('.scroll-btn.right');-->

<!--                list.slice(0,100).forEach(p=> row.insertAdjacentHTML('beforeend',buildCard(p)));-->

<!--                // Update scroll buttons-->
<!--                const updateButtons = () => {-->
<!--                    leftBtn.disabled = row.scrollLeft <= 0;-->
<!--                    rightBtn.disabled = row.scrollLeft >= row.scrollWidth - row.clientWidth;-->
<!--                };-->

<!--                // Scroll event listener-->
<!--                row.addEventListener('scroll', updateButtons);-->

<!--                // Button click handlers-->
<!--                leftBtn.addEventListener('click', () => {-->
<!--                    row.scrollBy({left: -220, behavior: 'smooth'});-->
<!--                });-->

<!--                rightBtn.addEventListener('click', () => {-->
<!--                    row.scrollBy({left: 220, behavior: 'smooth'});-->
<!--                });-->

<!--                // Initial button state-->
<!--                updateButtons();-->
<!--            })-->
<!--            .catch(err=>console.error(`Failed to load ${cat}:`,err));-->
<!--    });-->

<!--    /* search redirect */-->
<!--    document.getElementById('searchForm').addEventListener('submit', e=>{-->
<!--        e.preventDefault();-->
<!--        const q = document.getElementById('searchInput').value.trim();-->
<!--        if(q) location.href = `category.html?search=${encodeURIComponent(q)}`;-->
<!--    });-->

<!--    /* delegate add-to-cart clicks */-->
<!--    document.addEventListener('click', e=>{-->
<!--        if(e.target.matches('.add-btn')) {-->
<!--            e.preventDefault();-->
<!--            e.stopPropagation();-->
<!--            addToCart(e.target.dataset.id);-->
<!--        }-->
<!--    });-->
<!--</script>-->
<script type="module">
    import { addToCart } from '/js/cart.js';

    /* ---------- helper that builds one product card ---------- */
    function buildCard(p){
        const money   = v => `₹${v}`;
        const mrp     = p.mrp || p.price;
        const buttonText = (p.stockQuantity === 0) ? 'Out of Stock' : 'ADD';

        return `
        <div class="card prod-card h-100 border-0 shadow-sm">
            <div class="product-link-wrapper">
                <!-- Product Image Container -->
                <a href="product.html?id=${p.id}" class="text-reset text-decoration-none">
                    <div class="fixed-img-container">
                        <img class="w-100 h-100 object-fit-cover prod-img"
                             src="/api/products/${p.id}/image"
                             alt="${p.name}"
                             style="transition: transform 0.3s ease;">
                        ${mrp > p.price ? `
                        <span class="position-absolute top-0 end-0 bg-danger text-white px-2 py-1 small">
                            ${Math.round((mrp - p.price)/mrp * 100)}% OFF
                        </span>
                        ` : ''}
                    </div>

                    <!-- Product Details -->
                    <div class="card-body p-3 card-body-flex">
                        <!-- Product Name -->
                        <h5 class="card-title fw-semibold mb-1 text-truncate">${p.name}</h5>

                        <!-- Product Description -->
                        <p class="card-text small text-muted mb-2 line-clamp-2">
                            ${p.description || ''}
                        </p>

                        <!-- Quantity Type -->
                        <div class="text-success small mb-2">${p.quantityType || ''}</div>

                        <!-- Spacer to push prices down -->
                        <div class="mt-auto">
                            <!-- Price Section -->
                            <div class="d-flex align-items-baseline gap-2 mb-2">
                                <!-- Current Price -->
                                <span class="current-price text-dark">${money(p.price)}</span>

                                <!-- Original Price (if discounted) -->
                                ${mrp > p.price ? `
                                <span class="original-price text-decoration-line-through text-muted">
                                    ${money(mrp)}
                                </span>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                </a>

                <!-- Add to Cart Button -->
                <div class="card-footer card-footer-custom pb-3 px-3">
                    <button class="btn btn-danger add-to-cart-btn add-btn"
                            data-id="${p.id}"
                            data-name="${p.name}"
                            ${p.stockQuantity === 0 ? 'disabled' : ''}>
                        ${buttonText}
                    </button>
                </div>
            </div>
        </div>`;
    }

    /* ---------- build a section for each enum category ---------- */
    const categories = ['VEGETABLES','FRUITS','GROCERY'];
    const main       = document.querySelector('main');

    categories.forEach(cat => {
        /* header */
        main.insertAdjacentHTML('beforeend',`
        <div class="d-flex justify-content-between align-items-center mb-3 ${main.children.length? 'mt-4':''}">
            <h4 class="fw-bold m-0">${cat.charAt(0)+cat.slice(1).toLowerCase()}</h4>
            <a class="btn btn-link text-decoration-none fw-semibold"
               href="category.html?category=${cat}">See All ›</a>
        </div>
        <div class="scroll-container position-relative">
            <button class="scroll-btn left" aria-label="Scroll left">
                <i class="mdi mdi-chevron-left"></i>
            </button>
            <div id="row-${cat}" class="d-flex snap-x"></div>
            <button class="scroll-btn right" aria-label="Scroll right">
                <i class="mdi mdi-chevron-right"></i>
            </button>
        </div>`);

        /* dataset */
        fetch('/api/products/products/'+cat)
            .then(r=>{ if(!r.ok)throw new Error(`HTTP ${r.status}`); return r.json(); })
            .then(list => {
                const row = document.getElementById(`row-${cat}`);
                const container = row.parentElement;
                const leftBtn = container.querySelector('.scroll-btn.left');
                const rightBtn = container.querySelector('.scroll-btn.right');

                list.slice(0,100).forEach(p=> row.insertAdjacentHTML('beforeend',buildCard(p)));

                // Update scroll buttons
                const updateButtons = () => {
                    leftBtn.disabled = row.scrollLeft <= 0;
                    rightBtn.disabled = row.scrollLeft >= row.scrollWidth - row.clientWidth;
                };

                // Scroll event listener
                row.addEventListener('scroll', updateButtons);

                // Button click handlers
                leftBtn.addEventListener('click', () => {
                    row.scrollBy({left: -220, behavior: 'smooth'});
                });

                rightBtn.addEventListener('click', () => {
                    row.scrollBy({left: 220, behavior: 'smooth'});
                });

                // Initial button state
                updateButtons();
            })
            .catch(err=>console.error(`Failed to load ${cat}:`,err));
    });

    /* search redirect */
    document.getElementById('searchForm').addEventListener('submit', e=>{
        e.preventDefault();
        const q = document.getElementById('searchInput').value.trim();
        if(q) location.href = `category.html?search=${encodeURIComponent(q)}`;
    });

    /* delegate add-to-cart clicks */
    document.addEventListener('click', async e=>{
        if(e.target.matches('.add-btn')) {
            e.preventDefault();
            e.stopPropagation();

            const productId = e.target.dataset.id;
            const productName = e.target.dataset.name;

            try {
                await addToCart(productId);

                // Show success message
                const toast = document.getElementById('addToCartToast');
                toast.textContent = `✓ ${productName} added to cart!`;
                toast.style.display = 'block';

                // Hide after 2.5 seconds
                setTimeout(() => {
                    toast.style.display = 'none';
                }, 2500);

                // Update cart badge
                const cartBadge = document.getElementById('cartBadge');
                if (cartBadge) {
                    const currentCount = parseInt(cartBadge.textContent) || 0;
                    // cartBadge.textContent = currentCount + 1;
                    cartBadge.classList.remove('d-none');
                }

            } catch (error) {
                console.error('Error adding to cart:', error);
                alert('Failed to add item to cart');
            }
        }
    });
</script>
</body>
</html>